{"version":3,"sources":["StartBtnView.js"],"names":["signals","SignalMgr","cc","Class","extends","Component","properties","pressedScale","transDuration","audio","initScale","initPosition","onLoad","console","log","that","node","scale","position","onTouchDown","event","scaleDownAction","scaleTo","btnScale","target","getComponent","stopAllActions","runAction","onTouchUp","scaleUpAction","moveLeaveAction","moveTo","v2","view","getVisibleSize","width","y","dispose","on","start"],"mappings":";;;;;;AAAA;;;;;;AACA,IAAIA,UAAU,IAAIC,mBAAJ,EAAd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACAC,sBAAe,IAFP;AAGR;AACAC,uBAAgB,GAJR;AAKR;AACAC,eAAQ,CANA;AAOR;AACAC,mBAAY,CARJ;AASR;AACAC,sBAAe;AAVP,KAHP;;AAgBL;;AAEAC,UAlBK,oBAmBL;AACIC,gBAAQC,GAAR,CAAY,YAAZ;;AAEA,YAAIC,OAAO,IAAX;AACA,aAAKL,SAAL,GAAiB,KAAKM,IAAL,CAAUC,KAA3B;AACA,aAAKN,YAAL,GAAoB,KAAKK,IAAL,CAAUE,QAA9B;;AAEAL,gBAAQC,GAAR,CAAY,KAAKJ,SAAL,GAAiB,GAAjB,GAAuB,KAAKC,YAAxC;;AAEA,iBAASQ,WAAT,CAAsBC,KAAtB,EAA6B;AACzB,gBAAIC,kBAAkBnB,GAAGoB,OAAH,CAAWP,KAAKP,aAAhB,EAA+BO,KAAKR,YAApC,CAAtB;AACA,gBAAIgB,WAAWH,MAAMI,MAAN,CAAaC,YAAb,CAA0B,cAA1B,CAAf;AACA,iBAAKC,cAAL;AACA;AACA,iBAAKC,SAAL,CAAeN,eAAf;AACH;AACD,iBAASO,SAAT,CAAoBR,KAApB,EAA2B;AACvB,gBAAIS,gBAAgB3B,GAAGoB,OAAH,CAAWP,KAAKP,aAAhB,EAA+BO,KAAKL,SAApC,CAApB;AACA,gBAAIoB,kBAAkB5B,GAAG6B,MAAH,CAAU,CAAV,EAAa7B,GAAG8B,EAAH,CAAM,CAAE9B,GAAG+B,IAAH,CAAQC,cAAR,GAAyBC,KAAjC,EAAwC,KAAKjB,QAAL,CAAckB,CAAtD,CAAb,EAAsE,CAAtE,CAAtB;AACA,iBAAKV,cAAL;AACA,iBAAKC,SAAL,CAAeE,aAAf;AACA,iBAAKF,SAAL,CAAeG,eAAf;;AAEA9B,oBAAQqC,OAAR,CAAgB,OAAhB;AACH;AACD,aAAKrB,IAAL,CAAUsB,EAAV,CAAa,YAAb,EAA2BnB,WAA3B,EAAwC,KAAKH,IAA7C;AACA,aAAKA,IAAL,CAAUsB,EAAV,CAAa,UAAb,EAAyBV,SAAzB,EAAoC,KAAKZ,IAAzC;AACH,KA9CI;AA+CLuB,SA/CK,mBA+CI,CAER;AAjDI;;AAmDL;AAnDJ","file":"StartBtnView.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\Ui","sourcesContent":["import SignalMgr from \"../Signal/SignalMgr\";\r\nvar signals = new SignalMgr();\r\n// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        //点击后的缩放比例\r\n        pressedScale : 0.95,\r\n        //转换持续时间\r\n        transDuration : 0.1,\r\n        //音效\r\n        audio : 0,\r\n        //初始缩放\r\n        initScale : 0,\r\n        //初始位置\r\n        initPosition : 0,\r\n    },\r\n    \r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () \r\n    {\r\n        console.log(\"click test\");\r\n\r\n        var that = this;\r\n        this.initScale = this.node.scale;\r\n        this.initPosition = this.node.position;\r\n\r\n        console.log(this.initScale + \"，\" + this.initPosition);\r\n\r\n        function onTouchDown (event) {\r\n            let scaleDownAction = cc.scaleTo(that.transDuration, that.pressedScale);\r\n            let btnScale = event.target.getComponent('ButtonScaler');\r\n            this.stopAllActions();\r\n            //这里可以添加音效\r\n            this.runAction(scaleDownAction);            \r\n        }\r\n        function onTouchUp (event) {\r\n            let scaleUpAction = cc.scaleTo(that.transDuration, that.initScale);\r\n            let moveLeaveAction = cc.moveTo(1, cc.v2(- cc.view.getVisibleSize().width, this.position.y),0);\r\n            this.stopAllActions();\r\n            this.runAction(scaleUpAction);\r\n            this.runAction(moveLeaveAction);\r\n\r\n            signals.dispose(\"start\");\r\n        }\r\n        this.node.on('touchstart', onTouchDown, this.node);\r\n        this.node.on('touchend', onTouchUp, this.node);\r\n    },\r\n    start () {\r\n        \r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}